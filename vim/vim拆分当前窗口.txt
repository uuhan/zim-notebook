Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.4
Creation-Date: 2012-12-19T01:34:12+08:00

====== vim拆分当前窗口 ======
Created 星期三 19 十二月 2012

拆分窗口以及多文件编辑：

vi编辑器的最大的缺陷或许就是它不能同时编辑多个文件。vim去掉了这个缺陷；他能够同时编辑多个文件。在通常的vim编辑器中，他提供了许多方式来实现多文件同时编辑。我将集中描述最早的实现方法，通过使用“拆分窗口”，它就像是每个独立窗口包含一个文本文件。

在拆分窗口中打开一个文件：
假设你正在vim中编辑文件，然后又要拆分窗口来编辑另一个文件，你能使用以下的任一个命令：

：sp filename  水平拆分，这是个模行模式的命令，‘：’是末行模式的提示符，如果filename 不指定，vim将仍然在另一个窗口中打开当前文件。
：vsp filename  垂直拆分，在另一个区域打开文件，若不指定文件名，同上。

大多数情况下，水平拆分框更容易管理，任何的拆分框都能被进一步的拆分－－你可以在单个的vim窗口中编辑任意多的文件。

管理拆分窗口：
你一旦编辑了多个文件，或许就需要前后移动这些文件并且调整窗口的大小使得你能看到你相关文件你感兴趣的部分。

以下所有的命令的前缀是Ctrl＋w。在输入以下命令之前，输入Ctrl+w.
Ctrl+w    ：移动到另一个拆分窗口。
k或者Up    ：移动到正上方的一个拆分窗口。（Up是方位键）
j或者Down:移动到正下方的一个拆分窗口。（Down是方位键）
＋    ：将当前窗口扩大一行。（试着将这个命令和计数器结合，例如：5<Ctrl-w>+ ,将使当前拆分窗口扩大        5行）
-    ：减号，当前拆分窗口减小一行。
_    :下划线，最大化当前拆分窗口，也就是尽可能让当前窗口占最大的空间。


保存和退出：
每一个拆分窗口都像是vim 的一个实例－－所以：w和：q，作用于当前拆分窗口。如果你希望那些命令应用到所有的窗口而不是当前窗口的话，添加‘a‘到命令之后，例如：‘：wa‘保存所有打开的文件，‘：qa’将关闭所有打开的窗口并退出vim，还有‘：wqa‘保存所有文件并退出。

推荐的映射：
我建议添加以下的文件到你的.vimrc文件中使得你的vim操作更轻松：
map <C-J> <C-W>j<C-W>_
map <C-K> <C-W>k<C-W>_
set wmh = 0

前两行允许你在拆分窗口之间切换的更加便捷－－只要使用<C-J>就可以打开并最大化当前窗口下面个的窗口，使用<C-K>就能打开并最大化，当前窗口上面的一个窗口。由于这两个快捷键对应着vi编辑器的默认上和下，所以我使用他们作映射，你可以使用不同的组合键，如果你使用过别的编辑器，其中有快捷键从这个文件移动到另一个文件。

最后一行允许拆分窗口将他们的大小减少至一个单独的行（只包括文件名和文件位置）；当你打开了很多窗口时，这能节省大量的空间。vim默认会包括一个附加的行，记录那个文件的行数，以及该文件中光标件坐在的行号。
